<!DOCTYPE HTML>
<html>
<head>
    <title>登录</title>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="cache-control" content="no-cache"/>
    <meta http-equiv="expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <meta http-equiv="pragma" content="no-cache"/>
    <link href="../css/login.css" rel="stylesheet">
    <script type="text/javascript" src="../js/jquery/jquery-1.8.3.min.js"></script>
</head>
<body>
<div class="head-nav">
    <div>
        <span class="logo">logo</span>
        <span>博客</span>
        <ul class="right">
            <li>登录</li>
            <li>注册</li>
            <li>搜索</li>
            <li>菜单</li>
        </ul>
    </div>
</div>
<div class="viewport">
    <div class="login-wrap">
        <div class="login-tab"><span class="active">快速登录</span><span>快速注册</span></div>
        <div class="login-error-text">X用户名不能为空</div>
        <div class="tab-cont active">
            <div class="login-group"><label>账号</label><input type="text" name="username" id="username">
            </div>
            <div class="login-group"><label>密码</label><input type="password" name="password" id="password"></div>
            <div class="login-group"><label></label>
                <button type="button" id="login">登录</button>
                <span></span></div>
        </div>
        <div class="tab-cont">
            <div class="login-group error"><label>账号</label><input type="text" placeholder=""></div>
            <div class="login-group"><label>密码</label><input type="text" placeholder=""></div>
            <div class="login-group"><label>确认密码</label><input type="text" placeholder=""></div>
            <div class="login-group"><label>QQ</label><input type="text" placeholder=""></div>
            <div class="login-group"><label></label>
                <button type="button">同意协议并注册</button>
                <span>注册协议</span></div>
        </div>
    </div>
</div>
</body>
<script type="text/javascript">
    (function () {
        var tab = document.getElementsByClassName('login-tab')[0].getElementsByTagName("span");
        var tabCont = document.getElementsByClassName('login-wrap')[0].getElementsByClassName('tab-cont');
        var i;
        var len = tab.length;
        for (i = 0; i < len; i++) {
            (function () {
                var index = i;
                tab[index].onclick = function () {
                    for (var j = 0; j < len; j++) {
                        (function () {
                            var index = j;
                            tabCont[index].className = tabCont[index].className.replace(/active/, "");
                            tab[index].className = tab[index].className.replace(/active/, "");
                        })();
                    }
                    tabCont[index].className += " active";
                    tab[index].className += " active";
                }
            })();
        }
    })();
    $(document).ready(function () {
        $("#login").click(function () {
            var username = $("#username").val();
            var password = $("#password").val();
            $.ajax({
                type: "post",
                url: "/cloud-api/login",
                data: {
                    "username": username,
                    "password": password
                },
                dataType: "json",
                success: function (data) {
                    alert(data);
                    window.location.href = "/home.html";
                }
            });
        });
    });
</script>
</html>
